{
  "swagger": "2.0",
  "info": {
    "title": "proto/game.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "GameService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/game/bombs": {
      "get": {
        "operationId": "GameService_GetBombs",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/sessionGetBombsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "sessionId",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "GameService"
        ]
      }
    },
    "/v1/game/create": {
      "post": {
        "operationId": "GameService_CreateGame",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/playerCreateGameResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/playerCreateGameRequest"
            }
          }
        ],
        "tags": [
          "GameService"
        ]
      }
    },
    "/v1/game/input": {
      "post": {
        "operationId": "GameService_SendInput",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/playerPlayerInputResult"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/playerPlayerInput"
            }
          }
        ],
        "tags": [
          "GameService"
        ]
      }
    }
  },
  "definitions": {
    "ModuleModuleType": {
      "type": "string",
      "enum": [
        "UNKNOWN",
        "CLOCK",
        "WIRES",
        "PASSWORD",
        "BIG_BUTTON",
        "SIMON",
        "KEYPAD",
        "WHOS_ON_FIRST",
        "MEMORY",
        "MORSE",
        "NEEDY_VENT_GAS",
        "NEEDY_KNOB",
        "MAZE"
      ],
      "default": "UNKNOWN"
    },
    "bombBomb": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "serialNumber": {
          "type": "string"
        },
        "timerDuration": {
          "type": "integer",
          "format": "int32"
        },
        "startedAt": {
          "type": "integer",
          "format": "int32"
        },
        "strikeCount": {
          "type": "integer",
          "format": "int32"
        },
        "maxStrikes": {
          "type": "integer",
          "format": "int32"
        },
        "modules": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/modulesModule"
          }
        },
        "indicators": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/bombIndicator"
          }
        },
        "batteries": {
          "type": "integer",
          "format": "int32"
        },
        "ports": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/bombPort"
          }
        }
      }
    },
    "bombIndicator": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string"
        },
        "lit": {
          "type": "boolean"
        }
      }
    },
    "bombPort": {
      "type": "string",
      "enum": [
        "DVID",
        "RCA",
        "PS2",
        "RJ45",
        "SERIAL"
      ],
      "default": "DVID"
    },
    "commonCardinalDirection": {
      "type": "string",
      "enum": [
        "NORTH",
        "SOUTH",
        "EAST",
        "WEST"
      ],
      "default": "NORTH"
    },
    "commonColor": {
      "type": "string",
      "enum": [
        "RED",
        "BLUE",
        "WHITE",
        "BLACK",
        "YELLOW",
        "GREEN",
        "ORANGE",
        "PINK",
        "UNKNOWN"
      ],
      "default": "RED"
    },
    "commonIncrementDecrement": {
      "type": "string",
      "enum": [
        "INCREMENT",
        "DECREMENT"
      ],
      "default": "INCREMENT"
    },
    "commonPoint2D": {
      "type": "object",
      "properties": {
        "X": {
          "type": "string",
          "format": "int64"
        },
        "Y": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "commonPressType": {
      "type": "string",
      "enum": [
        "TAP",
        "HOLD",
        "RELEASE"
      ],
      "default": "TAP"
    },
    "game_configCustomBombConfig": {
      "type": "object",
      "properties": {
        "timerSeconds": {
          "type": "integer",
          "format": "int32",
          "title": "Time limit in seconds (min: 5, max: 3600)"
        },
        "maxStrikes": {
          "type": "integer",
          "format": "int32",
          "title": "Strike configuration (min: 1, max: 10)"
        },
        "numFaces": {
          "type": "integer",
          "format": "int32",
          "title": "Face configuration (min: 1, max: 10)"
        },
        "rows": {
          "type": "integer",
          "format": "int32",
          "title": "Grid layout (rows: 1-4, columns: 1-5)"
        },
        "columns": {
          "type": "integer",
          "format": "int32"
        },
        "modules": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/game_configModuleSpec"
          },
          "title": "Module specification - explicit list of modules\nIf empty, uses weighted random selection"
        },
        "minModules": {
          "type": "integer",
          "format": "int32",
          "description": "min: 1, max: 60",
          "title": "Alternative: weighted random selection\nOnly used if modules list is empty"
        },
        "maxModulesPerFace": {
          "type": "integer",
          "format": "int32"
        },
        "minBatteries": {
          "type": "integer",
          "format": "int32",
          "title": "0-6"
        },
        "maxBatteries": {
          "type": "integer",
          "format": "int32",
          "title": "0-6"
        },
        "maxIndicatorCount": {
          "type": "integer",
          "format": "int32",
          "title": "0-5"
        },
        "portCount": {
          "type": "integer",
          "format": "int32",
          "title": "0-6"
        }
      }
    },
    "game_configGameConfig": {
      "type": "object",
      "properties": {
        "level": {
          "$ref": "#/definitions/game_configLevelConfig"
        },
        "preset": {
          "$ref": "#/definitions/game_configPresetMissionConfig"
        },
        "custom": {
          "$ref": "#/definitions/game_configCustomBombConfig"
        },
        "seed": {
          "type": "string"
        }
      }
    },
    "game_configLevelConfig": {
      "type": "object",
      "properties": {
        "level": {
          "type": "integer",
          "format": "int32"
        }
      },
      "title": "Level configuration (1-10 difficulty)"
    },
    "game_configMission": {
      "type": "string",
      "enum": [
        "MISSION_UNSPECIFIED",
        "THE_FIRST_BOMB",
        "SOMETHING_OLD_SOMETHING_NEW",
        "DOUBLE_YOUR_MONEY",
        "ONE_STEP_UP",
        "PICK_UP_THE_PACE",
        "A_HIDDEN_MESSAGE",
        "SOMETHINGS_DIFFERENT",
        "ONE_GIANT_LEAP",
        "FAIR_GAME",
        "PICK_UP_THE_PACE_II",
        "NO_ROOM_FOR_ERROR",
        "EIGHT_MINUTES",
        "A_SMALL_WRINKLE",
        "PAY_ATTENTION",
        "THE_KNOB",
        "MULTI_TASKER",
        "WIRES_WIRES_EVERYWHERE",
        "COMPUTER_HACKING",
        "WHOS_ON_FIRST_CHALLENGE",
        "FIENDISH",
        "PICK_UP_THE_PACE_III",
        "ONE_WITH_EVERYTHING",
        "PICK_UP_THE_PACE_IV",
        "JUGGLER",
        "DOUBLE_TROUBLE",
        "I_AM_HARDCORE",
        "BLINKENLIGHTS",
        "APPLIED_THEORY",
        "A_MAZE_ING",
        "SNIP_SNAP",
        "RAINBOW_TABLE",
        "BLINKENLIGHTS_II"
      ],
      "default": "MISSION_UNSPECIFIED",
      "title": "- THE_FIRST_BOMB: Section 1: Introduction\n - SOMETHING_OLD_SOMETHING_NEW: Section 2: The Basics\n - A_HIDDEN_MESSAGE: Section 3: Moderate\n - A_SMALL_WRINKLE: Section 4: Needy Modules\n - WIRES_WIRES_EVERYWHERE: Section 5: Challenging\n - PICK_UP_THE_PACE_IV: Section 6: Extreme\n - BLINKENLIGHTS: Section 7: Exotic"
    },
    "game_configModuleSpec": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/ModuleModuleType"
        },
        "possibleTypes": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ModuleModuleType"
          }
        },
        "count": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "game_configPresetMissionConfig": {
      "type": "object",
      "properties": {
        "mission": {
          "$ref": "#/definitions/game_configMission"
        }
      }
    },
    "modulesBigButtonInput": {
      "type": "object",
      "properties": {
        "pressType": {
          "$ref": "#/definitions/commonPressType"
        },
        "releaseTimestamp": {
          "type": "string",
          "format": "int64",
          "description": "Let the user specify the release time as Unix timestamp to avoid issues with latency.\n0 indicates no relevance to the current press_type. Could be abused to solve faster."
        }
      }
    },
    "modulesBigButtonInputResult": {
      "type": "object",
      "properties": {
        "stripColor": {
          "$ref": "#/definitions/commonColor"
        }
      }
    },
    "modulesBigButtonState": {
      "type": "object",
      "properties": {
        "buttonColor": {
          "$ref": "#/definitions/commonColor"
        },
        "label": {
          "type": "string"
        }
      }
    },
    "modulesKeypadInput": {
      "type": "object",
      "properties": {
        "symbol": {
          "$ref": "#/definitions/modulesSymbol"
        }
      }
    },
    "modulesKeypadInputResult": {
      "type": "object",
      "properties": {
        "keypadState": {
          "$ref": "#/definitions/modulesKeypadState"
        }
      }
    },
    "modulesKeypadState": {
      "type": "object",
      "properties": {
        "displayedSymbols": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/modulesSymbol"
          }
        },
        "activatedSymbols": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/modulesSymbol"
          }
        }
      }
    },
    "modulesLetterChange": {
      "type": "object",
      "properties": {
        "letterIndex": {
          "type": "integer",
          "format": "int32"
        },
        "direction": {
          "$ref": "#/definitions/commonIncrementDecrement"
        }
      }
    },
    "modulesMazeInput": {
      "type": "object",
      "properties": {
        "direction": {
          "$ref": "#/definitions/commonCardinalDirection"
        }
      }
    },
    "modulesMazeInputResult": {
      "type": "object",
      "properties": {
        "mazeState": {
          "$ref": "#/definitions/modulesMazeState"
        }
      }
    },
    "modulesMazeState": {
      "type": "object",
      "properties": {
        "marker1": {
          "$ref": "#/definitions/commonPoint2D"
        },
        "marker2": {
          "$ref": "#/definitions/commonPoint2D"
        },
        "playerPosition": {
          "$ref": "#/definitions/commonPoint2D"
        },
        "goalPosition": {
          "$ref": "#/definitions/commonPoint2D"
        }
      }
    },
    "modulesMemoryInput": {
      "type": "object",
      "properties": {
        "buttonIndex": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "modulesMemoryInputResult": {
      "type": "object",
      "properties": {
        "memoryState": {
          "$ref": "#/definitions/modulesMemoryState"
        }
      }
    },
    "modulesMemoryState": {
      "type": "object",
      "properties": {
        "screenNumber": {
          "type": "integer",
          "format": "int32"
        },
        "displayedNumbers": {
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int32"
          }
        },
        "stage": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "modulesModule": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/ModuleModuleType"
        },
        "position": {
          "$ref": "#/definitions/modulesModulePosition"
        },
        "solved": {
          "type": "boolean"
        },
        "wiresState": {
          "$ref": "#/definitions/modulesWiresState"
        },
        "passwordState": {
          "$ref": "#/definitions/modulesPasswordState"
        },
        "bigButtonState": {
          "$ref": "#/definitions/modulesBigButtonState"
        },
        "simonState": {
          "$ref": "#/definitions/modulesSimonState"
        },
        "keypadState": {
          "$ref": "#/definitions/modulesKeypadState"
        },
        "whosOnFirstState": {
          "$ref": "#/definitions/modulesWhosOnFirstState"
        },
        "memoryState": {
          "$ref": "#/definitions/modulesMemoryState"
        },
        "morseState": {
          "$ref": "#/definitions/modulesMorseState"
        },
        "needyVentGasState": {
          "$ref": "#/definitions/modulesNeedyVentGasState"
        },
        "needyKnobState": {
          "$ref": "#/definitions/modulesNeedyKnobState"
        },
        "mazeState": {
          "$ref": "#/definitions/modulesMazeState"
        }
      }
    },
    "modulesModulePosition": {
      "type": "object",
      "properties": {
        "face": {
          "type": "integer",
          "format": "int32"
        },
        "row": {
          "type": "integer",
          "format": "int32"
        },
        "col": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "modulesMorseFrequencyChange": {
      "type": "object",
      "properties": {
        "direction": {
          "$ref": "#/definitions/commonIncrementDecrement"
        }
      }
    },
    "modulesMorseInput": {
      "type": "object",
      "properties": {
        "frequencyChange": {
          "$ref": "#/definitions/modulesMorseFrequencyChange"
        },
        "tx": {
          "$ref": "#/definitions/modulesMorseTx"
        }
      }
    },
    "modulesMorseInputResult": {
      "type": "object",
      "properties": {
        "morseState": {
          "$ref": "#/definitions/modulesMorseState"
        }
      }
    },
    "modulesMorseState": {
      "type": "object",
      "properties": {
        "displayedPattern": {
          "type": "string",
          "title": "The pattern of dots and dashes to display"
        },
        "displayedFrequency": {
          "type": "number",
          "format": "float",
          "title": "The frequency that is currently selected"
        },
        "selectedFrequencyIndex": {
          "type": "integer",
          "format": "int32",
          "title": "Selected frequency index"
        }
      }
    },
    "modulesMorseTx": {
      "type": "object"
    },
    "modulesNeedyKnobInput": {
      "type": "object",
      "description": "Doesn't need any fields. If input is received, rotate clockwise."
    },
    "modulesNeedyKnobInputResult": {
      "type": "object",
      "properties": {
        "needyKnobState": {
          "$ref": "#/definitions/modulesNeedyKnobState"
        }
      }
    },
    "modulesNeedyKnobState": {
      "type": "object",
      "properties": {
        "displayedPatternFirstRow": {
          "type": "array",
          "items": {
            "type": "boolean"
          }
        },
        "displayedPatternSecondRow": {
          "type": "array",
          "items": {
            "type": "boolean"
          }
        },
        "dialDirection": {
          "$ref": "#/definitions/commonCardinalDirection"
        },
        "countdownStartedAt": {
          "type": "string",
          "format": "int64"
        },
        "countdownDuration": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "modulesNeedyVentGasInput": {
      "type": "object",
      "properties": {
        "input": {
          "type": "boolean"
        }
      }
    },
    "modulesNeedyVentGasInputResult": {
      "type": "object",
      "properties": {
        "needyVentGasState": {
          "$ref": "#/definitions/modulesNeedyVentGasState"
        }
      }
    },
    "modulesNeedyVentGasState": {
      "type": "object",
      "properties": {
        "displayedQuestion": {
          "type": "string"
        },
        "countdownStartedAt": {
          "type": "string",
          "format": "int64"
        },
        "countdownDuration": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "modulesPasswordInput": {
      "type": "object",
      "properties": {
        "letterChange": {
          "$ref": "#/definitions/modulesLetterChange"
        },
        "submit": {
          "$ref": "#/definitions/modulesPasswordSubmit"
        }
      }
    },
    "modulesPasswordInputResult": {
      "type": "object",
      "properties": {
        "passwordState": {
          "$ref": "#/definitions/modulesPasswordState"
        }
      }
    },
    "modulesPasswordState": {
      "type": "object",
      "properties": {
        "letters": {
          "type": "string",
          "title": "Contains the current letters in order"
        }
      }
    },
    "modulesPasswordSubmit": {
      "type": "object"
    },
    "modulesSimonInput": {
      "type": "object",
      "properties": {
        "color": {
          "$ref": "#/definitions/commonColor"
        }
      }
    },
    "modulesSimonInputResult": {
      "type": "object",
      "properties": {
        "hasFinishedSeq": {
          "type": "boolean"
        },
        "displaySequence": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/commonColor"
          }
        }
      }
    },
    "modulesSimonState": {
      "type": "object",
      "properties": {
        "currentSequence": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/commonColor"
          }
        }
      }
    },
    "modulesSymbol": {
      "type": "string",
      "enum": [
        "COPYRIGHT",
        "FILLEDSTAR",
        "HOLLOWSTAR",
        "SMILEYFACE",
        "DOUBLEK",
        "OMEGA",
        "SQUIDKNIFE",
        "PUMPKIN",
        "HOOKN",
        "SIX",
        "SQUIGGLYN",
        "AT",
        "AE",
        "MELTEDTHREE",
        "EURO",
        "NWITHHAT",
        "DRAGON",
        "QUESTIONMARK",
        "PARAGRAPH",
        "RIGHTC",
        "LEFTC",
        "PITCHFORK",
        "CURSIVE",
        "TRACKS",
        "BALLOON",
        "UPSIDEDOWNY",
        "BT"
      ],
      "default": "COPYRIGHT",
      "title": "- SIX: TEEPEE = 9;\n - NWITHHAT: CIRCLE = 16;\n - CURSIVE: TRIPOD = 24;\n - UPSIDEDOWNY: WEIRDNOSE = 28;"
    },
    "modulesWhosOnFirstInput": {
      "type": "object",
      "properties": {
        "word": {
          "type": "string"
        }
      }
    },
    "modulesWhosOnFirstInputResult": {
      "type": "object",
      "properties": {
        "whosOnFirstState": {
          "$ref": "#/definitions/modulesWhosOnFirstState"
        }
      }
    },
    "modulesWhosOnFirstState": {
      "type": "object",
      "properties": {
        "screenWord": {
          "type": "string"
        },
        "buttonWords": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "stage": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "modulesWire": {
      "type": "object",
      "properties": {
        "wireColor": {
          "$ref": "#/definitions/commonColor"
        },
        "isCut": {
          "type": "boolean"
        },
        "position": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "modulesWiresInput": {
      "type": "object",
      "properties": {
        "wirePosition": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "modulesWiresState": {
      "type": "object",
      "properties": {
        "wires": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/modulesWire"
          }
        }
      }
    },
    "playerBombStatus": {
      "type": "object",
      "properties": {
        "strikeCount": {
          "type": "integer",
          "format": "int32"
        },
        "maxStrikes": {
          "type": "integer",
          "format": "int32"
        },
        "exploded": {
          "type": "boolean"
        }
      }
    },
    "playerCreateGameRequest": {
      "type": "object",
      "properties": {
        "config": {
          "$ref": "#/definitions/game_configGameConfig",
          "title": "Optional configuration - if empty, defaults to easy (level 1)"
        }
      }
    },
    "playerCreateGameResponse": {
      "type": "object",
      "properties": {
        "sessionId": {
          "type": "string"
        }
      }
    },
    "playerPlayerInput": {
      "type": "object",
      "properties": {
        "sessionId": {
          "type": "string"
        },
        "bombId": {
          "type": "string"
        },
        "moduleId": {
          "type": "string"
        },
        "wiresInput": {
          "$ref": "#/definitions/modulesWiresInput"
        },
        "passwordInput": {
          "$ref": "#/definitions/modulesPasswordInput"
        },
        "bigButtonInput": {
          "$ref": "#/definitions/modulesBigButtonInput"
        },
        "simonInput": {
          "$ref": "#/definitions/modulesSimonInput"
        },
        "keypadInput": {
          "$ref": "#/definitions/modulesKeypadInput"
        },
        "whosOnFirstInput": {
          "$ref": "#/definitions/modulesWhosOnFirstInput"
        },
        "memoryInput": {
          "$ref": "#/definitions/modulesMemoryInput"
        },
        "morseInput": {
          "$ref": "#/definitions/modulesMorseInput"
        },
        "needyVentGasInput": {
          "$ref": "#/definitions/modulesNeedyVentGasInput"
        },
        "needyKnobInput": {
          "$ref": "#/definitions/modulesNeedyKnobInput"
        },
        "mazeInput": {
          "$ref": "#/definitions/modulesMazeInput"
        }
      }
    },
    "playerPlayerInputResult": {
      "type": "object",
      "properties": {
        "moduleId": {
          "type": "string"
        },
        "strike": {
          "type": "boolean"
        },
        "solved": {
          "type": "boolean"
        },
        "bombStatus": {
          "$ref": "#/definitions/playerBombStatus"
        },
        "bigButtonInputResult": {
          "$ref": "#/definitions/modulesBigButtonInputResult"
        },
        "simonInputResult": {
          "$ref": "#/definitions/modulesSimonInputResult"
        },
        "passwordInputResult": {
          "$ref": "#/definitions/modulesPasswordInputResult"
        },
        "keypadInputResult": {
          "$ref": "#/definitions/modulesKeypadInputResult"
        },
        "whosOnFirstInputResult": {
          "$ref": "#/definitions/modulesWhosOnFirstInputResult"
        },
        "memoryInputResult": {
          "$ref": "#/definitions/modulesMemoryInputResult"
        },
        "morseInputResult": {
          "$ref": "#/definitions/modulesMorseInputResult"
        },
        "needyVentGasInputResult": {
          "$ref": "#/definitions/modulesNeedyVentGasInputResult"
        },
        "needyKnobInputResult": {
          "$ref": "#/definitions/modulesNeedyKnobInputResult"
        },
        "mazeInputResult": {
          "$ref": "#/definitions/modulesMazeInputResult"
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "sessionGetBombsResponse": {
      "type": "object",
      "properties": {
        "bombs": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/bombBomb"
          }
        }
      }
    }
  }
}
