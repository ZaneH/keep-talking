# REST API

This document describes the REST API endpoints for the game. This adapter was generated by Sonnet 3.7 and is not ready for production use. gRPC is the preferred method of communication.

## Endpoints

### Create a new game session

```
POST /api/games
```

**Response:**
```json
{
  "sessionId": "uuid-string"
}
```

### Get bombs for a session

```
GET /api/games/{sessionId}/bombs
```

**Response:**
```json
{
  "sessionId": "uuid-string",
  "bombs": {
    "bomb-uuid": {
      "id": "bomb-uuid",
      "serialNumber": "ABC123",
      "strikeCount": 0,
      "maxStrikes": 3,
      "batteries": 2,
      "modules": {
        "module-uuid": {
          "id": "module-uuid",
          "type": "SimpleWires",
          "solved": false
        }
      }
    }
  }
}
```

### Send input to a module

```
POST /api/games/{sessionId}/input
```

**Request Body:**
```json
{
  "sessionId": "uuid-string",
  "bombId": "bomb-uuid",
  "moduleId": "module-uuid",
  "inputType": "simpleWires",
  "data": {
    "wireIndex": 2
  }
}
```

**Response:**
```json
{
  "success": true,
  "solved": false,
  "strike": false,
  "data": {} // Optional additional data specific to the module
}
```

## Module-specific input formats

### Simple Wires

```json
{
  "inputType": "simpleWires",
  "data": {
    "wireIndex": 2
  }
}
```

### Password

For letter change:
```json
{
  "inputType": "password",
  "data": {
    "action": "letterChange",
    "letterIndex": 2,
    "direction": "increment" // or "decrement"
  }
}
```

For submission:
```json
{
  "inputType": "password",
  "data": {
    "action": "submit"
  }
}
```

### Big Button

```json
{
  "inputType": "bigButton",
  "data": {
    "pressType": "tap" // or "hold" or "release"
  }
}
```

### Simon Says

```json
{
  "inputType": "simonSays",
  "data": {
    "color": "red" // or "blue", "green", "yellow"
  }
}
```
